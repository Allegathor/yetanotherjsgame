!function(e){function t(t){for(var i,a,d=t[0],s=t[1],l=t[2],h=0,v=[];h<d.length;h++)a=d[h],r[a]&&v.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(u&&u(t);v.length;)v.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,d=1;d<n.length;d++){var s=n[d];0!==r[s]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={1:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="dist/";var d=window.webpackJsonp=window.webpackJsonp||[],s=d.push.bind(d);d.push=t,d=d.slice();for(var l=0;l<d.length;l++)t(d[l]);var u=s;o.push([191,0]),n()}({191:function(e,t,n){"use strict";var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(190));var r=new i.Application;document.body.appendChild(r.view);var o=void 0,a=void 0,d=void 0,s=void 0,l=void 0,u=void 0,h=void 0,v=void 0,p=void 0,f=void 0,c=void 0,w=!1,y=0,g=!1;function x(e,t){var n=e.width/2,i=e.height/2,r=t.width/2,o=t.height/2,a=e.x+n,d=e.y+i,s=t.x+r,l=t.y+o,u=Math.abs(a-s),h=Math.abs(d-l);return u<n+r&&h<i+o}function b(e){var t={};return t.code=e,t.isDown=!1,t.isUp=!0,t.press=null,t.release=null,t.downHandler=function(n){n.keyCode==e&&(t.isUp&&t.press&&t.press(),t.isUp=!1,t.isDown=!0,n.preventDefault())},t.upHandler=function(n){n.keyCode==e&&(t.isDown&&t.release&&t.release(),t.isDown=!1,t.isUp=!0,n.preventDefault())},window.addEventListener("keydown",t.downHandler.bind(t)),window.addEventListener("keyup",t.upHandler.bind(t)),t}function C(e,t){var n="";return e.x<t.x&&(e.x=t.x,n="left"),e.y<t.y&&(e.y=t.y,n="top"),e.x+e.width>t.width&&(e.x=t.width-e.width,n="right"),e.y+e.height>t.height&&(e.y=t.height-e.height,n="bottom"),n}function m(e){d(e)}function S(e){v.x+=v.vx,v.y+=v.vy,f.forEach(function(e){e.y+=e.vy;var t=C(e,{x:28,y:10,width:488,height:480});"top"!=t&&"bottom"!=t||(e.vy*=-1),x(v,e)&&(g=!0)}),C(v,{x:28,y:10,width:488,height:480}),x(v,p)&&(w=!0,y=2,p.x=v.x+8,p.y=v.y+8),1==g?(v.alpha=.5,c.outer.width-=1):v.alpha=1,g=!1,c.outer.width<0&&(d=O,l.text="You've lost!\nPress Enter to restart"),x(p,h)&&(d=O,l.text="You've won!\nPress Enter to restart")}function O(){o.visible=!1,a.visible=!0,b(13).release=function(){v.x=68,v.y=o.height/2-v.height/2,p.x=o.width-p.width-48,p.y=o.height/2-p.height/2,c.outer.width=128,w=!1,y=0,o.visible=!0,a.visible=!1,d=S}}i.loader.add("mainAtlas","assets/img/treasureHunter.json").load(function(){o=new i.Container,a=new i.Container,r.stage.addChild(o),r.stage.addChild(a),a.visible=!1,s=i.loader.resources.mainAtlas.textures,u=new i.Sprite(s["dungeon.png"]),o.addChild(u),(h=new i.Sprite(s["door.png"])).position.set(32,0),o.addChild(h),(v=new i.Sprite(s["explorer.png"])).x=68,v.y=o.height/2-v.height/2,v.vx=0,v.vy=0,o.addChild(v);var e=b(32),t=b(37),n=b(38),g=b(39),x=b(40);t.press=function(){v.vx=-(4-y),v.vy=0},t.release=function(){g.isDown||0!=v.vy||(v.vx=0)},n.press=function(){v.vx=0,v.vy=-(4-y)},n.release=function(){x.isDown||0!=v.vx||(v.vy=0)},g.press=function(){v.vx=4-y,v.vy=0},g.release=function(){t.isDown||0!=v.vy||(v.vx=0)},x.press=function(){v.vx=0,v.vy=4-y},x.release=function(){n.isDown||0!=v.vx||(v.vy=0)},e.press=function(){0==v.vx&&0==v.vy&&w&&(w=!1,y=0,p.x=v.x+v.width)},(p=new i.Sprite(s["treasure.png"])).x=o.width-p.width-48,p.y=o.height/2-p.height/2,o.addChild(p),(c=new i.Container).position.set(r.stage.width-170,4),o.addChild(c);var C=new i.Graphics;C.beginFill(0),C.drawRect(0,0,128,8),C.endFill(),c.addChild(C);var O=new i.Graphics;O.beginFill(16711680),O.drawRect(0,0,128,8),O.endFill(),c.addChild(O),c.outer=O;var j=new i.TextStyle({fontFamily:"Futura",fontSize:64,fill:"white"});(l=new i.Text("The end!",j)).x=120,l.y=r.stage.height/2-32,a.addChild(l);var D=1;f=[];for(var M=0;M<7;M++){var P=new i.Sprite(s["blob.png"]),_=48*M+150,k=r.stage.height-P.height,F=Math.floor(Math.random()*k);P.x=_,P.y=F,P.vy=3*D,D*=-1,f.push(P),o.addChild(P)}v.interactive=!0,v.on("pointerup",function(e){console.log("hey")}),d=S,r.ticker.add(m)})}});